---
layout:     post
title:      "设计模式"
subtitle:   " \"面向对象、设计原则、设计模式按创建对象和对象结构分2大类、设计模式\""
date:       2018-11-02 06:00:00
author:     "青乡"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - design pattern
---

# 面向对象
1.封装  
封装数据和方法。C语言的结构体只封装数据，所以不叫面向对象，这是高级语言和面向对象的语言最大的区别。

作用  
隐藏数据。只向外界提供最少的数据。遵守迪米特原则。

2.继承  
子类继承父类的数据。代码复用。

3.多态  
1）子类覆盖了父类的方法  
2）多个子类都实现父类的方法

方法的多样性。指同一个接口的实现类是多种多样的，所以多个实现类的实现方法也不同。

# 设计原则
#### 迪米特原则
最少知识原则。 类的设计也是如此，只完成专一的功能，而不是包含所有的功能。
只与朋友通信原则，没有朋友，造一个朋友。  
参考《web服务器》一文。

# 设计模式分2大类
1.创建对象  
单例模式  
例如，servlet类是单例，所以数据不是线程安全。  
MVC框架的控制器都是多例，所以每个控制器对象的数据都是线程独有的。


多例模式





2.对象的结构/子系统  
门面模式

3.对象的行为/方法  
观察者模式   
责任链模式  
模板模式

# 设计模式
#### 单例模式
应用场景  
1.servlet  
servlet类是单例，所以数据线程不安全。

2.MVC框架  
struts2和spring的控制器都是多例，数据线程安全。

#### 多例模式
MVC框架里的控制器，每个请求是单独的线程，单独的实例。所以数据安全。

#### 门面模式
https://diedai.github.io/2018/11/01/web%E6%9C%8D%E5%8A%A1%E5%99%A8/

#### 观察者模式/事件监听模式
是什么?  
1.事件对象EventObject  
1）数据    
2）通知监听器方法  

2.事件监听器EventListener
是接口，没有任何数据和方法，只是起一个标识的作用。

JDK提供了以上2个类，专门用于事件监听功能。自己实现事件监听功能，需要继承以上2个类或接口。

当事件对象里的数据发生改变，就通知事件监听器(即调用事件监听器的方法)。

---
应用场景

1.图形用户界面程序，即桌面程序或app程序，都是事件监听。  
web程序的也是事件监听。

2.servlet  
提供了ServletContextListenr接口。专门用于事件监听的功能。  

自定义监听器，就实现ServletContextListenr。

3.tomcat  
服务器容器：监听服务器的各种数据的变化。


会话监听器SessionListener：会话的创建、销毁和到期，会通知监听器。


# 责任链模式
https://diedai.github.io/2018/11/01/web%E6%9C%8D%E5%8A%A1%E5%99%A8/

