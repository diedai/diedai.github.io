---
layout:     post
title:      "redis"
subtitle:   " \"缓存中间件\""
date:       2018-11-04 06:00:00
author:     "青乡"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - cache 
    - redis
---



# 有了memcache，为什么还要使用Redis
1.数据类型更加丰富。  

2.数据可以写到磁盘。  
基于内存的数据库，但是同时也可以写到磁盘。

# 分布式/集群
1.软件本身
主从架构。

2.数据
主可以写和读。
从只能读。

但是，从的数据非实时更新！因为从的数据是由主同步/复制过来的！

# 分片
就是集群。

# 数据类型
1.字符串
2.集合
3.映射

# 主从服务器
1.memcache是没有主从服务器概念的，即每一台服务器都是主服务器。

2.Redis有主从概念  
主服务器用于写和读。  
从服务器用于读。

主从都可以有多个，但是一个从只能属于一个主，一个主却可以有多个从。

---
数据如何听同步？  
同步只会在写才会有同步的问题，读是无所谓哪一个服务器的。

写的时候，  
1.数据是先写到主。  
根据路由算法选择一个可用的主。这一点和memcache一样。  
2.然后，主定时把数据同步到从，有时间差，但很短，所以从数据库并不是实时更新的。

